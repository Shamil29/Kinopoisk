# Тестирование Кинопоиска

### Кинопоиск UI и API тесты - Python
Задачи проекта:
- проверка модуля поиска на главной странице,
- проверка полей ввода логина и пароля на странице авторизации

### Полезные ссылки:
- [Подсказка по markdown](https://www.markdownguide.org/basic-syntax/)
- [Генератор файла .gitignore](https://www.toptal.com/developers/gitignore)
- [Финальный проект по ручному тестированию](https://project-skypro.yonote.ru/share/d0e48015-c19b-448e-8ee9-63bfdaf0f35e)

### Структура:
- ***api*** - в данной папке находятся файлы с методами API Кинопоиска.
    - ***FilmTvSeriesApi.py*** - содержит методы класса для работы с API Кинопоиска для поиска фильма или сериала.
    - PersonAPi.py - содержит методы класса для работы с API Кинопоиска для поиска персоны.
- ***pages*** - в данной папке находятся файлы с методами страниц сервиса Кинопоиск.
    - ***AuthPage.py*** - содержит методы класса страницы авторизации на сайте.
    - ***MainPage.py*** - содержит методы класса главной страницы сайта.
- ***test*** - в данной папке находятся файлы с UI и API тестами.
    - ***test_ui.py*** - файл с UI-тестами.
    - ***test_api.py*** - файл с тестами api.
    - ***conftest.py*** - файлы с фикстурами, используемыми в проекте.
    - ***config.json*** - файлы с данными, которые используются в UI и API тестах. Необходимо в *token_info*, *username* и *password* указать свои данные.
- ***requirements.txt*** - файл с используемыми зависимостями в проекте. Установить зависимости на тестовый стенд можно командой *pip install -r requirements.txt*

### Запуск тестов:
- Чтобы запустить все тесты, необходимо выполнить команду в командной строке:
*python -m pytest*
- Чтобы запустить только UI-тесты, необходимо выполнить команду в командной строке:
*python -m pytest test/test_ui.py*
- Чтобы запустить только API-тесты, необходимо выполнить команду в командной строке:
*python -m pytest test/test_api.py*

### Отчет в Allure:
#### Для всех тестов:
1. Чтобы запустить все тесты для формирования отчета, необходимо выполнить команду в командной строке:
*python -m pytest --alluredir <папка для результатов>*
2. В директории с тестами появится папка *<папка для результатов>* c формированными отчетами о тестах.
3. Чтобы просмотреть сформированный отчет, необходимо выполнить команду в командной строке:
*allure serve <папка для результатов>*
4. Отчет откроется на локальном сервере в окне вашего браузера.

#### Для UI-тестов:
1. Чтобы запустить все тесты для формирования отчета, необходимо выполнить команду в командной строке:
*python -m pytest test/test_ui.py --alluredir <папка для результатов>*
2. В директории с тестами появится папка *<папка для результатов>* c формированными отчетами о тестах.
3. Чтобы просмотреть сформированный отчет, необходимо выполнить команду в командной строке:
*allure serve <папка для результатов>*
4. Отчет откроется на локальном сервере в окне вашего браузера.

#### Для API-тестов:
1. Чтобы запустить все тесты для формирования отчета, необходимо выполнить команду в командной строке:
*python -m pytest test/test_api.py --alluredir <папка для результатов>*
2. В директории с тестами появится папка *<папка для результатов>* c формированными отчетами о тестах.
3. Чтобы просмотреть сформированный отчет, необходимо выполнить команду в командной строке:
*allure serve <папка для результатов>*
4. Отчет откроется на локальном сервере в окне вашего браузера.
